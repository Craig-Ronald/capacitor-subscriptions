{"version":3,"file":"definitions.js","sourceRoot":"","sources":["../../src/definitions.ts"],"names":[],"mappings":"","sourcesContent":["import { PluginListenerHandle } from \"@capacitor/core\";\n\nexport interface SubscriptionsPlugin {\n  /**\n   * A test method which just returns what is passed in\n   */\n  echo(options: { value: string }): Promise<{ value: string }>;\n\n  /**\n   * Receives a product ID and returns the product details\n   * @param options.productId The product ID to lookup\n   */\n  getProductDetails(options: { productIdentifier: string }): Promise< ProductDetailsResponse >;\n\n  /**\n   * Receives the product ID which the user wants to purchase and returns the transaction ID\n   * @param options.productId contains the productIdentifier\n   */\n  purchaseProduct(options: { productIdentifier: string }): Promise< PurchaseProductResponse >;\n\n  \n  getCurrentEntitlements(): Promise< CurrentEntitlementsResponse >;\n  \n  getLatestTransaction(options: {productIdentifier: string}): Promise< LatestTransactionResponse >;\n\n  manageSubscriptions(): any;\n\n  setGoogleVerificationDetails(options: { googleVerifyEndpoint: string, bid: string }): void;\n\n  addListener(\n    eventName: 'ANDROID-PURCHASE-RESPONSE',\n    listenerFunc: (response: AndroidPurchasedTrigger) => void,\n  ): Promise<PluginListenerHandle> & PluginListenerHandle;\n\n}\n\n// Response data types\n\nexport interface Product {\n  productIdentifier: string;\n  price: string;\n  displayName: string;\n  description: string;\n}\n\nexport interface Transaction {\n  productIdentifier: string;\n  expiryDate: string;\n  originalId: string;\n  transactionId: string;\n  originalStartDate: string;\n  isTrial?: boolean;\n}\n\n// latestTransactions interface and types\n\nexport interface LatestTransactionResponse {\n\tresponseCode: LatestTransactionResponseCode,\n\tresponseMessage: LatestTransactionResponseMessage,\n\tdata?: Transaction\n}\n\nexport type LatestTransactionResponseCode = -1 | 0 | 1 | 2 | 3\nexport type LatestTransactionResponseMessage =\n\"Incompatible with web\" |\n\"Successfully found the latest transaction matching given productIdentifier\" |\n\"Could not find a product matching the given productIdentifier\" |\n\"No transaction for given productIdentifier, or it could not be verified\" |\n\"Unknown problem trying to retrieve latest transaction\"\n\n// currentEntitlements interface and types\n\nexport interface CurrentEntitlementsResponse {\n\tresponseCode: CurrentEntitlementsResponseCode,\n\tresponseMessage: CurrentEntitlementsResponseMessage,\n\tdata?: Transaction[]\n}\n\nexport type CurrentEntitlementsResponseCode = -1 | 0 | 1 | 2\nexport type CurrentEntitlementsResponseMessage =\n\"Incompatible with web\" |\n\"Successfully found all entitlements across all product types\" |\n\"No entitlements were found\" |\n\"Unknown problem trying to retrieve entitlements\"\n\n// purchaseProduct interface and types\n\nexport interface PurchaseProductResponse {\n\tresponseCode: PurchaseProductIOSResponseCode | PurchaseProductAndroidResponseCode\n\tresponseMessage: PurchaseProductIOSResponseMessage | PurchaseProductAndroidResponseMessage\n}\n\nexport type PurchaseProductIOSResponseCode = -1 | 0 | 1 | 2 | 3 | 4 | 5\nexport type PurchaseProductIOSResponseMessage =\n\"Incompatible with web\" | \n\"Successfully purchased product\" |\n\"Could not find a product matching the given productIdentifier\" |\n\"Product seems to have been purchased but the transaction failed verification\" |\n\"User closed the native popover before purchasing\" |\n\"Product request made but is currently pending - likely due to parental restrictions\" |\n\"An unknown error occurred whilst in the purchasing process\"\n\nexport type PurchaseProductAndroidResponseCode = -1 | 0 | 1\nexport type PurchaseProductAndroidResponseMessage =\n\"Incompatible with web\" |\n\"Successfully opened native popover\" |\n\"Failed to open native popover\"\n\nexport interface ProductDetailsResponse {\n\tresponseCode: ProductDetailsResponseCode\n\tresponseMessage: ProductDetailsResponseMessage\n\tdata?: Product\n}\n\nexport type ProductDetailsResponseCode = -1 | 0 | 1\nexport type ProductDetailsResponseMessage = \n\"Incompatible with web\" |\n\"Successfully found the product details for given productIdentifier\" |\n\"Could not find a product matching the given productIdentifier\"\n\nexport interface AndroidPurchasedTrigger {\n  fired: boolean;\n}\n"]}